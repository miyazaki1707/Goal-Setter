import { useState } from "react";
import { useSelector } from "react-redux";
import { Link, useLocation } from "react-router-dom";
import { RootState } from "../../../store/store";

export default function Footer() {
  const { pathname } = useLocation();
  const [active, setActive] = useState<string>(pathname);
  const isOpen = useSelector((state: RootState) => state.modal.isOpen);
  return (
    <div>
      {!isOpen && (
        <div className='bg-white fixed bottom-0 w-full flex justify-between place-items-center px-10 text-xs font-medium pb-2 max-w-[400px] z-[6] h-[60px]'>
          <Link
            to='/'
            className='flex flex-col items-center justify-center text-center'
            onClick={() => setActive("/")}>
            <svg
              width='37'
              height='37'
              viewBox='0 0 37 37'
              fill='none'
              xmlns='http://www.w3.org/2000/svg'>
              <path
                d='M33.7933 8.66416C33.6777 8.38262 33.4813 8.14162 33.2289 7.97152C32.9765 7.80142 32.6794 7.70984 32.375 7.70832H29.2917V4.62499C29.2901 4.32063 29.1986 4.02352 29.0285 3.77112C28.8584 3.51872 28.6174 3.32231 28.3358 3.20666C28.0551 3.0886 27.7456 3.05634 27.4466 3.11396C27.1475 3.17158 26.8722 3.31649 26.6554 3.53041L22.0304 8.15541C21.8875 8.29946 21.7745 8.4703 21.6978 8.65814C21.621 8.84597 21.5821 9.0471 21.5833 9.24999V13.2429L18.1762 16.6346C18.0317 16.7779 17.917 16.9484 17.8388 17.1363C17.7605 17.3241 17.7202 17.5256 17.7202 17.7292C17.7202 17.9327 17.7605 18.1342 17.8388 18.322C17.917 18.5099 18.0317 18.6804 18.1762 18.8237C18.3196 18.9682 18.4901 19.0829 18.6779 19.1612C18.8658 19.2395 19.0673 19.2798 19.2708 19.2798C19.4743 19.2798 19.6758 19.2395 19.8637 19.1612C20.0516 19.0829 20.2221 18.9682 20.3654 18.8237L23.7571 15.4167H27.75C27.9529 15.4178 28.154 15.3789 28.3418 15.3022C28.5297 15.2255 28.7005 15.1125 28.8446 14.9696L33.4696 10.3446C33.6835 10.1278 33.8284 9.85248 33.886 9.55341C33.9436 9.25435 33.9114 8.94491 33.7933 8.66416Z'
                fill={`#${active === "/" ? "2C66BC" : "D7D6D6"}`}
              />
              <path
                d='M18.5 33.9167C14.4112 33.9167 10.4899 32.2924 7.59875 29.4012C4.70756 26.5101 3.08331 22.5888 3.08331 18.5C3.08331 14.4113 4.70756 10.49 7.59875 7.59878C10.4899 4.70759 14.4112 3.08334 18.5 3.08334H19.1475C19.3499 3.10156 19.5468 3.15948 19.7269 3.25379C19.907 3.3481 20.0667 3.47696 20.197 3.633C20.3272 3.78904 20.4255 3.96921 20.4861 4.16323C20.5468 4.35724 20.5686 4.56131 20.5504 4.76376C20.5322 4.96621 20.4743 5.1631 20.3799 5.34317C20.2856 5.52324 20.1568 5.68297 20.0007 5.81324C19.8447 5.94352 19.6645 6.04178 19.4705 6.10242C19.2765 6.16306 19.0724 6.1849 18.87 6.16668H18.5C16.0607 6.16668 13.6762 6.89001 11.6479 8.24522C9.61974 9.60042 8.03895 11.5266 7.10547 13.7802C6.17198 16.0339 5.92774 18.5137 6.40363 20.9061C6.87951 23.2986 8.05415 25.4961 9.779 27.221C11.5038 28.9458 13.7014 30.1205 16.0939 30.5964C18.4863 31.0722 20.9661 30.828 23.2197 29.8945C25.4734 28.961 27.3996 27.3802 28.7548 25.352C30.11 23.3238 30.8333 20.9393 30.8333 18.5C30.841 18.3768 30.841 18.2532 30.8333 18.13C30.8142 17.9274 30.8355 17.723 30.8958 17.5287C30.9561 17.3343 31.0543 17.1538 31.1847 16.9976C31.3152 16.8414 31.4752 16.7125 31.6557 16.6185C31.8362 16.5244 32.0335 16.467 32.2362 16.4496C32.4388 16.4305 32.6432 16.4518 32.8376 16.5121C33.0319 16.5724 33.2124 16.6706 33.3687 16.801C33.5249 16.9315 33.6537 17.0915 33.7478 17.272C33.8418 17.4524 33.8992 17.6498 33.9166 17.8525C33.9166 18.0683 33.9166 18.2842 33.9166 18.5C33.9166 22.5888 32.2924 26.5101 29.4012 29.4012C26.51 32.2924 22.5887 33.9167 18.5 33.9167ZM27.565 20.35C27.6468 19.9411 27.5628 19.5165 27.3315 19.1696C27.1002 18.8226 26.7405 18.5818 26.3316 18.5C25.9228 18.4182 25.4982 18.5022 25.1512 18.7335C24.8043 18.9648 24.5634 19.3245 24.4816 19.7333C24.2602 20.8285 23.7454 21.8429 22.9923 22.6681C22.2391 23.4934 21.2759 24.0986 20.2055 24.4189C19.1351 24.7393 17.9978 24.7628 16.9151 24.4871C15.8324 24.2113 14.845 23.6465 14.0583 22.8531C13.2716 22.0597 12.7153 21.0675 12.4487 19.9825C12.1821 18.8974 12.2154 17.7604 12.5448 16.6928C12.8743 15.6252 13.4876 14.6671 14.3193 13.921C15.1509 13.1749 16.1697 12.6688 17.2666 12.4567C17.6755 12.3749 18.0352 12.1341 18.2665 11.7871C18.4978 11.4402 18.5818 11.0156 18.5 10.6067C18.4182 10.1978 18.1774 9.83816 17.8304 9.60686C17.4835 9.37557 17.0589 9.29157 16.65 9.37334C15.0129 9.70796 13.497 10.4798 12.2634 11.6068C11.0298 12.7338 10.1244 14.1739 9.64361 15.7742C9.16278 17.3744 9.12439 19.075 9.53253 20.6954C9.94067 22.3157 10.7801 23.7952 11.9616 24.9767C13.1431 26.1582 14.6226 26.9977 16.243 27.4058C17.8633 27.8139 19.5639 27.7755 21.1642 27.2947C22.7644 26.8139 24.2045 25.9086 25.3315 24.6749C26.4586 23.4413 27.2304 21.9254 27.565 20.2883V20.35Z'
                fill={`#${active === "/" ? "000" : "D7D6D6"}`}
              />
            </svg>
            {active === "/" ? <p className=''>Goals</p> : ""}
          </Link>
          <Link
            to='/ongoing'
            className='flex flex-col items-center justify-center text-center'
            onClick={() => {
              setActive("/ongoing");
            }}>
            <svg
              width='37'
              height='37'
              viewBox='0 0 37 37'
              fill='none'
              xmlns='http://www.w3.org/2000/svg'>
              <path
                d='M20.2868 1.9187L24.4599 10.3745C24.7501 10.9626 25.3112 11.3701 25.9603 11.4643L35.2921 12.8203C36.9268 13.0581 37.5789 15.0663 36.3965 16.2186L29.6441 22.8005C29.1748 23.2581 28.9603 23.918 29.0714 24.564L30.6652 33.858C30.9446 35.4857 29.2358 36.7268 27.774 35.9589L19.4278 31.5712C18.8474 31.2663 18.1535 31.2663 17.5732 31.5712L9.22693 35.9589C7.76514 36.7276 6.05638 35.4857 6.33577 33.858L7.92953 24.564C8.04067 23.918 7.82611 23.2581 7.35686 22.8005L0.604397 16.2186C-0.577998 15.0655 0.0741716 13.0573 1.70884 12.8203L11.0407 11.4643C11.6897 11.3701 12.2508 10.9626 12.541 10.3745L16.7141 1.9187C17.4443 0.437622 19.5559 0.437622 20.2868 1.9187Z'
                fill={`#${active === "/ongoing" ? "2C66BC" : "D7D6D6"}`}
              />
            </svg>
            {active === "/ongoing" ? <p>Ongoing</p> : ""}
          </Link>
          <Link
            to='/settings'
            className='flex flex-col items-center justify-center text-center'
            onClick={() => setActive("/settings")}>
            <svg
              width='37'
              height='37'
              viewBox='0 0 39 39'
              fill='none'
              xmlns='http://www.w3.org/2000/svg'>
              <path
                d='M15.2379 36.4486L14.3848 31.1382C13.9644 30.9887 13.4982 30.7682 12.9863 30.4767C12.4744 30.1853 12.0385 29.8971 11.6788 29.6121L6.70311 31.8659L2.39069 24.1736L6.85765 20.8733C6.83057 20.6967 6.81188 20.4643 6.80159 20.1761C6.79127 19.8879 6.78611 19.6419 6.78611 19.4382C6.78611 19.2551 6.79127 19.0278 6.80159 18.7564C6.81188 18.485 6.83057 18.2442 6.85765 18.034L2.39069 14.7451L6.70311 7.10322L11.6364 9.35701C11.9897 9.08501 12.4274 8.79813 12.9497 8.49637C13.4719 8.19463 13.9502 7.96899 14.3848 7.81943L15.2379 2.5108H23.8027L24.6152 7.80972C25.0627 7.95928 25.5511 8.18492 26.0803 8.48666C26.6097 8.78839 27.0439 9.07851 27.383 9.35701L32.3472 7.10322L36.6499 14.7451L32.1017 17.9739C32.1288 18.2112 32.1575 18.4723 32.1878 18.7573C32.2181 19.0422 32.2333 19.2898 32.2333 19.5C32.2333 19.7102 32.2181 19.951 32.1878 20.2224C32.1575 20.4939 32.1391 20.7346 32.1326 20.9448L36.619 24.1736L32.2969 31.8659L27.3212 29.6121C26.9614 29.8971 26.5291 30.1921 26.0243 30.497C25.5194 30.802 25.0633 31.0157 24.6558 31.1382L23.8027 36.4486H15.2379ZM19.4594 25.154C21.039 25.154 22.3814 24.6014 23.4865 23.4963C24.5917 22.3912 25.1442 21.0488 25.1442 19.4691C25.1442 17.8959 24.5917 16.5551 23.4865 15.4468C22.3814 14.3384 21.039 13.7842 19.4594 13.7842C17.8732 13.7842 16.5292 14.3384 15.4273 15.4468C14.3254 16.5551 13.7745 17.8959 13.7745 19.4691C13.7745 21.0488 14.3254 22.3912 15.4273 23.4963C16.5292 24.6014 17.8732 25.154 19.4594 25.154Z'
                fill={`#${active === "/settings" ? "2C66BC" : "D7D6D6"}`}
              />
            </svg>
            {active === "/settings" ? <p>Settings</p> : ""}
          </Link>
        </div>
      )}
    </div>
  );
}
